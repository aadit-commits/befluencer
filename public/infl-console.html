<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
    <script>

    var module=angular.module("myyModule",[]);
        var controller=module.controller("myyController",function($scope,$http){


        $scope.jsoninflArray;
        $scope.fillInfl=function()
        {
                  // alert("function");
                   let url="/fetch-all-infl";
            $http.get(url).then(ok,notOk);

            function ok(response)
            {
                 //alert (JSON.stringify(response.data));
                $scope.jsoninflArray=response.data;

            }
            function notOk(err)
            {
                alert(err);
            
            }
        
    }

        

    })
    </script>

</head>
<body ng-app="myyModule" ng-controller="myyController">
<center>
    <button type="button" class="btn btn-light" style="margin-top:20px;" ng-click="fillInfl();">Fetch All</button>
<br><br>
    <div class="container">
        <table class="table" rules="all" border="1" width="700" margin-right="30px">
            <tr>
                <th>Sr No.</th>
                <th>Email</th>
                <th>Name</th>
                <th>Gender</th>
                <th>DOB</th>
                <th>Address</th>
                <th>Contact</th>
                <th>City</th>
                <th>Field</th>
                <th>Insta</th>
                <th>Youtube</th>
                <th>Other</th>
                <th>Profile Pic</th>

                
            </tr>
            <tr ng-repeat="obj in jsoninflArray">
                <td>
                    {{$index+1}}
                </td>
                <td>
                    {{obj.email}}
                </td>
                <td>
                    {{obj.iname}}
                </td>
                <td>
                    {{obj.gender}}
                </td>
                <td>
                    {{obj.dob}}
                </td>
                <td>
                    {{obj.address}}
                </td>
                <td>
                    {{obj.contact}}
                </td>
                <td>
                    {{obj.city}}
                </td>
                <td>
                    {{obj.field}}
                </td>
                <td>
                    {{obj.insta}}
                </td>
                <td>
                    {{obj.yt}}
                </td>
                <td>
                    {{obj.other}}
                </td>
                <td>
                  <img src="uploads/{{obj.picpath}}" width="100" height="100">
                </td>
                
            </tr>
        </table>
    </div>
    </center>
</body>
</html>